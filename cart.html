<!DOCTYPE html>
<html lang="en">
   <head>
    
      <!-- basic -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <!-- mobile metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="viewport" content="initial-scale=1, maximum-scale=1">
      <!-- site metas -->
      <title>Tienda Nexus</title>
      <meta name="keywords" content="">
      <meta name="description" content="">
      <meta name="author" content="">
      <!-- bootstrap css -->
      <link rel="stylesheet" href="css/bootstrap.min.css">
      <!-- style css -->
      <link rel="stylesheet" href="css/style.css">
      <!-- Responsive-->
      <link rel="stylesheet" href="css/responsive.css">
      <!-- fevicon -->
      <link rel="icon" href="images/fevicon.png" type="image/gif" />
      <!-- Scrollbar Custom CSS -->
      <link rel="stylesheet" href="css/jquery.mCustomScrollbar.min.css">
      <!-- Tweaks for older IEs-->
      <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.5/jquery.fancybox.min.css" media="screen">
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
   </head>
   <style>
    /* Estilo para la sección del carrito */
   /* Estilo para la sección del carrito */
.carrito-seccion {
    width: 90%;
    max-width: 1200px;
    margin: 0 auto; /* Centra el contenido horizontalmente */
    padding: 20px;
    background-color: #f9f9f9; /* Color de fondo suave */
    border-radius: 10px; /* Bordes redondeados */
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Sombra ligera */
}

.carrito-seccion h1 {
    text-align: center;
    color: #333;
    margin-bottom: 20px;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
}

table, th, td {
    border: 1px solid #ddd;
}

th, td {
    padding: 12px;
    text-align: left;
    vertical-align: middle;
}

th {
    background-color: #f4f4f4;
    font-weight: bold;
}

tbody tr:nth-child(even) {
    background-color: #f9f9f9;
}

tbody tr:hover {
    background-color: #f1f1f1;
}

td img {
    width: 100px;
    height: 100px;
    object-fit: contain; /* Mantiene la proporción de la imagen sin estirarla */
    border-radius: 5px;
}

/* Estilo para los botones */
button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 5px;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #0056b3;
}

/* Estilo para la sección de descuentos y pagos */
.discount-section, .payment-section {
    margin: 20px 0;
    text-align: center; /* Alinea los elementos en el centro */
}

.discount-section input {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 16px;
    margin-right: 10px;
}

.discount-section button {
    background-color: #28a745;
}

.discount-section button:hover {
    background-color: #218838;
}

.payment-section button {
    background-color: #dc3545;
}

.payment-section button:hover {
    background-color: #c82333;
}

</style>
   <!-- body -->
   <body class="main-layout position_head">
      <!-- loader  -->
      <div class="loader_bg">
         <div class="loader"><img src="images/loading.gif" alt="#" /></div>
      </div>
      <!-- end loader -->
      <!-- header -->
      <header>
         <!-- header inner -->
         <div class="header">
            <div class="container-fluid">
               <div class="row">
                  <div class="col-xl-3 col-lg-3 col-md-3 col-sm-3 col logo_section">
                     <div class="full">
                        <div class="center-desk">
                           <div class="logo">
                              <a href="home.php"><img src="images/nexuspng2.png" alt="Logo" width="100" height="auto"></a>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="col-xl-9 col-lg-9 col-md-9 col-sm-9">
                     <nav class="navigation navbar navbar-expand-md navbar-dark ">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample04" aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse justify-content-center" id="navbarsExample04">
                           <ul class="navbar-nav">
                               <li class="nav-item">
                                   <a class="nav-link" href="home.php" style="white-space: nowrap;">Inicio</a>
                               </li>
                               <li class="nav-item ">
                                   <a class="nav-link" href="about.html" style="white-space: nowrap;">Acerca de</a>
                               </li>
                               <li class="nav-item">
                                   <a class="nav-link" href="Pedidos.php" style="white-space: nowrap;">Tus Camisetas</a>
                               </li>
                               <li class="nav-item">
                                   <a class="nav-link" href="shop.html" style="white-space: nowrap;">Tienda</a>
                               </li>
                               <li class="nav-item active">
                                 <a class="nav-link" href="cart.html">
                                      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
                                      <i class="fas fa-shopping-cart"></i> Carrito
                                      </a>
                                 </li>
                              
                               
                           </ul>
                       </div>
                       
                     </nav>
                  </div>
               </div>
            </div>
         </div>
      </header>
      <div class="carrito-seccion">
      <h1>Carrito de Compras</h1>
      <table border="1">
          <thead>
              <tr>
                  <th>Imagen</th>
                  <th>Nombre</th>
                  <th>Precio</th>
                  <th>Acciones</th>
              </tr>
          </thead>
          <tbody id="cart-items">
              <!-- Aquí se mostrarán los productos -->
          </tbody>
          <tfoot>
              <tr>
                  <td colspan="2" style="text-align: right;"><strong>Subtotal:</strong></td>
                  <td id="subtotal">0 Lps</td>
                  <td></td>
              </tr>
              <tr id="discount-row" style="display: none;">
                  <td colspan="2" style="text-align: right;"><strong>Descuento 10%:</strong></td>
                  <td id="discount">0 Lps</td>
                  <td></td>
              </tr>
              <tr id="total-row">
                  <td colspan="2" style="text-align: right;"><strong>Total:</strong></td>
                  <td id="total">0 Lps</td>
                  <td></td>
              </tr>
          </tfoot>
      </table>
  
      <div class="discount-section">
          <input type="text" id="discount-code" placeholder="Código de descuento">
          <button id="apply-discount">Aplicar Descuento</button>
      </div>
  
      <div class="payment-section">
          <button id="pay-button">Pagar</button>
      </div>
    </div>

      <script>
          const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
          const cartItemsContainer = document.getElementById('cart-items');
          const subtotalElement = document.getElementById('subtotal');
          const discountRow = document.getElementById('discount-row');
          const discountElement = document.getElementById('discount');
          const totalRow = document.getElementById('total-row');
          const totalElement = document.getElementById('total');
          const payButton = document.getElementById('pay-button');
          const applyDiscountButton = document.getElementById('apply-discount');
          const discountCodeInput = document.getElementById('discount-code');
          const discountCode = 'Jareth';
          const discountPercentage = 0.10;
  
          function renderCartItems() {
              cartItemsContainer.innerHTML = '';
              let subtotal = 0;
  
              cartItems.forEach((item, index) => {
                  const row = document.createElement('tr');
                  row.innerHTML = `
                      <td><img src="${item.productImage}" alt="${item.productName}" width="100"></td>
                      <td>${item.productName}</td>
                      <td>${item.productPrice} Lps</td>
                      <td><button class="remove-item" data-index="${index}">Eliminar</button></td>
                  `;
                  cartItemsContainer.appendChild(row);
                  subtotal += parseFloat(item.productPrice);
              });
  
              subtotalElement.textContent = `${subtotal.toFixed(2)} Lps`;
              updateTotal(subtotal);
  
              document.querySelectorAll('.remove-item').forEach(button => {
                  button.addEventListener('click', function() {
                      const itemIndex = this.getAttribute('data-index');
                      removeCartItem(itemIndex);
                  });
              });
          }
  
          function removeCartItem(index) {
              cartItems.splice(index, 1);
              localStorage.setItem('cartItems', JSON.stringify(cartItems));
              renderCartItems();
          }
  
          function updateTotal(subtotal) {
              let discount = 0;
              if (discountRow.style.display !== 'none') {
                  discount = subtotal * discountPercentage;
              }
              const total = subtotal - discount;
              subtotalElement.textContent = `${subtotal.toFixed(2)} Lps`;
              discountElement.textContent = `${discount.toFixed(2)} Lps`;
              totalElement.textContent = `${total.toFixed(2)} Lps`;
          }
  
          function applyDiscount() {
              const code = discountCodeInput.value.trim();
              if (code === discountCode) {
                  discountRow.style.display = '';
              } else {
                  discountRow.style.display = 'none';
              }
              const subtotal = parseFloat(subtotalElement.textContent);
              updateTotal(subtotal);
          }
  
          function goToPaymentPage() {
              window.location.href = 'metododepago.html';
          }
  
          renderCartItems();
          applyDiscountButton.addEventListener('click', applyDiscount);
          payButton.addEventListener('click', goToPaymentPage);
      </script>
  
      
      <!-- Javascript files-->
      <script src="js/jquery.min.js"></script>
      <script src="js/popper.min.js"></script>
      <script src="js/bootstrap.bundle.min.js"></script>
      <script src="js/jquery-3.0.0.min.js"></script>
      <!-- sidebar -->
      <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
      <script src="js/custom.js"></script>
      <div class="container">
         <div class="row">
            
         </div>
      </div>
   </div>
</div>
   </body>
</html>
